<div class="container mx-auto p-4">
  <div [ngClass]="isModalOpen ? 'block' : 'hidden'" class="fixed inset-0 bg-[#1d1d1d] bg-opacity-75 flex items-center justify-center">
    <div class="bg-black p-8 rounded-lg shadow-lg max-w-xl w-full relative">
      <h2 class="text-2xl font-bold mb-4 text-white">{{isEditing ? 'Edit task' : 'Create a new task'}}</h2>
        <form #taskForm="ngForm" (ngSubmit)="onSubmit(taskForm)" class="p-4 md:p-5">
          <div class="grid gap-4 mb-4 grid-cols-2">
              <div class="col-span-2">
                  <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Task Name</label>
                  <input
                  type="text"
                  name="title"
                  id="title"
                  [(ngModel)]="taskData.title"
                  required
                  #title="ngModel"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="type task name">
              </div>
              <div class="col-span-2">
                  <label for="price" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Task date due</label>
                  <div class="relative max-w-full">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
                      <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                      </svg>
                    </div>
                    <input
                    id="expiration_date"
                    type="date"
                    required="true"
                    name="expiration_date"
                    [(ngModel)]="taskData.expiration_date"
                    #expiration_date="ngModel"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="Select date">
                  </div>
              </div>
              <div class="col-span-2">
                  <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Task description</label>
                  <textarea
                  id="description"
                  name="description"
                  required="true"
                  [(ngModel)]="taskData.description"
                  #description="ngModel"
                  rows="4" required class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white " placeholder="Write task description here"></textarea>
              </div>
          </div>
          <div class="flex justify-end gap-4">
            <button type="submit" class="text-white inline-flex items-center bg-[#1e1e1e] hover:bg-[#272727] focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all">
                <svg class="w-5 h-5" fill="#e65f2b" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
                {{isEditing ? 'Update Task' : 'Add Task'}}
            </button>

            <button type="button" (click)="toggleModal()" class="bg-[#1e1e1e] hover:bg-[#272727] transition-all text-white px-4 py-2 rounded-md">Close</button>
          </div>
        </form>
      <button (click)="toggleModal()" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-600 hover:transform hover:scale-110 transition-all">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>
</div>
